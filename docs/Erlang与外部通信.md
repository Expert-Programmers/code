Erlang通过名为端口的对象与外部程序通信.如果向端口发送一个消息,此消息就会被
发往与端口相连的外部程序.来自外部程序的消息则会编程来自端口的Erlang消息.

对程序员而言,端口的行为就像是一个Erlang进程.你可以向它发送消息,可以注册它
(就像进程一样),诸如此类.如果外部程序崩溃了,就会有一个退出信号发送给相连的进程.
如果相连的进程挂了,外部程序就会被关闭.

创建端口的进程被称为端口的相连进程.相连进程有其特殊的重要性:所有发往端口的消息
都必须表明相连进程的PID,所有来自外部程序的消息都会发往相连进程.


要创建一个端口,就会调用open_port:

* -spec open_port(PortName, [Opt]) -> Port 

    其中PortName是下列选项中的一个
    * {spawn, Command}
    
    启动一个外部程序.Command是这个外部程序的名称.除非能找到一个名为Command的内链驱动,
    否则Command会在Erlang工作空间之外运行.

    * {fd, In, Out}

    允许一个Erlang进程访问Erlang使用的任何当前打开文件描述符号In可以用作标准输入,
    文件描述符Out可以用作标准输出.
    
    Out是下列选项中的一个:
        * {packet, N} 
        数据包(packet)前面N(1、2或4)个字节的长度计数.
        * stream
        发送消息时不带数据包长度信息.应用程序必须知道如何处理这些数据包.
        * {link, Max}
        发送消息时使用一次一行的形式.如果有一行超过了Max字节,就会在Max字节处被拆分.
        * {cd, Dir}
        只适用于{spawn, Command}选项.外部程序从Dir里启动.        
        * {env, Env}
        只适用于{spawn, Command}选项.外部程序的环境通过Env列表里的环境变量
        进行扩展.Env列表由若干个{VarName, Value}对组成,其中VarName和Value是字符串.